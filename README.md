# Docly - åœ¨çº¿æ–‡æ¡£ç¼–è¾‘å™¨

Docly æ˜¯ä¸€æ¬¾åŸºäº Vue 3 + Vite çš„ç°ä»£åŒ–åœ¨çº¿æ–‡æ¡£ç¼–è¾‘å™¨ï¼Œä¸“æ³¨äº Word æ–‡ä»¶çš„ç¼–è¾‘ã€å¯¼å…¥å¯¼å‡ºä¸é«˜çº§æ–‡æœ¬å¤„ç†åŠŸèƒ½ã€‚

## ç•Œé¢é¢„è§ˆ

![Docly ç¼–è¾‘å™¨ç•Œé¢ ç™½è‰²](./snapshots/light_theme.jpg)
![Docly ç¼–è¾‘å™¨ç•Œé¢ é»‘è‰²](./snapshots/dark_theme.jpg)

*Docly ç¼–è¾‘å™¨ä¸»ç•Œé¢å±•ç¤ºäº†å®Œæ•´çš„å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼ŒåŒ…æ‹¬å·¥å…·æ ã€ç¼–è¾‘åŒºåŸŸå’ŒçŠ¶æ€æ *

## åŠŸèƒ½ç‰¹è‰²

### ğŸš€ ç°ä»£åŒ–æ¶æ„
- åŸºäº Vue 3 + Vite çš„ç°ä»£åŒ–æ¶æ„
- ç»„åˆå¼APIæ¶æ„è®¾è®¡
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒå¤šè®¾å¤‡

### âœï¸ å¼ºå¤§çš„ç¼–è¾‘åŠŸèƒ½
- å¼ºå¤§çš„å¯Œæ–‡æœ¬ç¼–è¾‘åŠŸèƒ½ï¼ˆåŸºäº Tiptapï¼‰
- å¤šç§ç¼–è¾‘å™¨å·¥å…·ï¼ˆæ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨ã€å¼•ç”¨ã€è¡¨æ ¼ã€ä»£ç å—ã€é“¾æ¥ã€ä¸‹åˆ’çº¿ã€é«˜äº®ç­‰ï¼‰
- è‡ªå®šä¹‰å­—ä½“æ ·å¼å’Œæ ¼å¼åŒ–é€‰é¡¹
- æ–‡æ¡£ç»“æ„åŒ–ç¼–è¾‘å’Œå¯¼èˆª

### ğŸ“„ Word æ–‡æ¡£æ”¯æŒ
- å®Œæ•´çš„ Word æ–‡æ¡£å¯¼å…¥å¯¼å‡ºæ”¯æŒ
- é«˜çº§æ–‡æœ¬åˆ†æä¸æ ·å¼ä¿æŒåŠŸèƒ½
- æ™ºèƒ½å­—ä½“å¤„ç†ï¼ˆæ”¯æŒæ¥·ä½“ã€ä»¿å®‹ã€å°æ ‡å®‹ç­‰ä¸­æ–‡å­—ä½“ï¼‰
- æ–‡æ¡£é¢„è§ˆåŠŸèƒ½

### ğŸ”§ é«˜çº§åŠŸèƒ½
- å®Œæ•´çš„æ‰¹æ³¨ç³»ç»Ÿæ”¯æŒ
- é¢œè‰²é€‰æ‹©å™¨å’Œä¸»é¢˜æ”¯æŒ
- ç¼–è¾‘å™¨çŠ¶æ€æ æ˜¾ç¤º
- å·¥å…·æç¤ºç³»ç»Ÿ
- æ’ä»¶åŒ–æ¶æ„ï¼Œæ˜“äºæ‰©å±•
- å®æ—¶ä¿å­˜ä¸çŠ¶æ€ç®¡ç†
- ç»Ÿä¸€çš„å¿«æ·é”®ç®¡ç†ç³»ç»Ÿ
- å½©è‰²æ§åˆ¶å°æ—¥å¿—è¾“å‡º
- ç”¨æˆ·å‹å¥½çš„æ¶ˆæ¯æç¤ºç³»ç»Ÿ

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3.5.18 + Vite 5.4.20
- **ç¼–è¾‘å™¨æ ¸å¿ƒ**: Tiptap 3.5.3 + å¤šä¸ªå®˜æ–¹æ‰©å±•
  - @tiptap/starter-kit 3.5.3 (åŸºç¡€åŠŸèƒ½åŒ…)
  - @tiptap/extension-underline 3.5.3 (ä¸‹åˆ’çº¿)
  - @tiptap/extension-text-style 3.5.3 (æ–‡æœ¬æ ·å¼)
  - @tiptap/extension-table 3.5.3 (è¡¨æ ¼)
  - @tiptap/extension-table-row 3.5.3 (è¡¨æ ¼è¡Œ)
  - @tiptap/extension-table-cell 3.5.3 (è¡¨æ ¼å•å…ƒæ ¼)
  - @tiptap/extension-table-header 3.5.3 (è¡¨æ ¼å¤´)
  - @tiptap/extension-code-block-lowlight 3.5.3 (ä»£ç å—)
  - @tiptap/extension-highlight 3.5.3 (é«˜äº®)
  - @tiptap/extension-history 3.5.3 (å†å²è®°å½•)
- **çŠ¶æ€ç®¡ç†**: Pinia 3.0.3
- **UI ç»„ä»¶åº“**: Naive UI 2.43.1
- **æ–‡ä»¶å¤„ç†**: 
  - docx 9.5.1 (Wordæ–‡æ¡£ç”Ÿæˆ)
  - docx-preview 0.3.6 (Wordé¢„è§ˆ)
  - docxtemplater 3.66.3 (Wordæ¨¡æ¿)
  - file-saver 2.0.5 (æ–‡ä»¶ä¿å­˜)
  - jszip 3.10.1 (å‹ç¼©æ–‡ä»¶å¤„ç†)
- **å·¥å…·åº“**: @vueuse/core 13.9.0 (Vueç»„åˆå¼å·¥å…·)
- **ç±»å‹æ”¯æŒ**: TypeScript + @types/file-saver 2.0.7
- **æ„å»ºå·¥å…·**: Vite 5.4.20 + @vitejs/plugin-vue 5.2.4 + TypeScript 5.9.2

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ components/          # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ AnnotationSystem.vue  # æ‰¹æ³¨ç³»ç»Ÿç»„ä»¶
â”‚   â”œâ”€â”€ ColorPicker.vue       # é¢œè‰²é€‰æ‹©å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ DoclyEditor.vue       # ä¸»ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ EditorStatusBar.vue   # ç¼–è¾‘å™¨çŠ¶æ€æ ç»„ä»¶
â”‚   â”œâ”€â”€ EditorToolbar.vue     # ç¼–è¾‘å™¨å·¥å…·æ ç»„ä»¶
â”‚   â”œâ”€â”€ FontTool.vue          # å­—ä½“å·¥å…·ç»„ä»¶
â”‚   â”œâ”€â”€ ShortcutPanel.vue     # å¿«æ·é”®é¢æ¿ç»„ä»¶
â”‚   â”œâ”€â”€ TiptapEditor.vue      # Tiptap ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â””â”€â”€ Tooltip.vue           # å·¥å…·æç¤ºç»„ä»¶
â”œâ”€â”€ composables/        # Vue ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useAnnotations.ts     # æ‰¹æ³¨åŠŸèƒ½ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useEditorState.ts     # ç¼–è¾‘å™¨çŠ¶æ€ç®¡ç†ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useFileHandler.ts     # æ–‡ä»¶å¤„ç†ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useShortcuts.ts       # å¿«æ·é”®ç®¡ç†ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useTheme.ts           # ä¸»é¢˜ç®¡ç†ç»„åˆå¼å‡½æ•°
â”‚   â””â”€â”€ useTooltip.ts         # å·¥å…·æç¤ºç»„åˆå¼å‡½æ•°
â”œâ”€â”€ core/               # ç¼–è¾‘å™¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ TiptapCore.ts   # Tiptap ç¼–è¾‘å™¨æ ¸å¿ƒç±»ï¼Œæä¾›å®Œæ•´çš„ç¼–è¾‘å™¨åŠŸèƒ½
â”‚   â””â”€â”€ ShortcutManager.ts    # å¿«æ·é”®ç®¡ç†å™¨ï¼Œç»Ÿä¸€ç®¡ç†åº”ç”¨å¿«æ·é”®
â”œâ”€â”€ adapters/           # æ•°æ®é€‚é…å™¨
â”‚   â””â”€â”€ TiptapDataAdapter.ts  # Tiptap æ•°æ®é€‚é…å™¨ï¼Œå¤„ç†æ•°æ®æ ¼å¼è½¬æ¢
â”œâ”€â”€ extensions/         # Tiptap æ‰©å±•
â”‚   â”œâ”€â”€ FontFamily.ts   # å­—ä½“æ—æ‰©å±•
â”‚   â”œâ”€â”€ FontSize.ts     # å­—ä½“å¤§å°æ‰©å±•
â”‚   â””â”€â”€ TextAlign.ts    # æ–‡æœ¬å¯¹é½æ‰©å±•
â”œâ”€â”€ plugins/            # æ’ä»¶ç³»ç»Ÿ
â”‚   â””â”€â”€ PluginManager.ts # æ’ä»¶ç®¡ç†å™¨ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œç®¡ç†æ’ä»¶
â”œâ”€â”€ fileHandlers/       # æ–‡ä»¶å¤„ç†æ¨¡å—
â”‚   â””â”€â”€ WordHandler.ts        # Wordæ–‡ä»¶å¤„ç†å™¨ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºå’Œé¢„è§ˆ
â”œâ”€â”€ stores/             # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ editorStore.ts  # ç¼–è¾‘å™¨çŠ¶æ€ç®¡ç†ï¼ŒåŸºäº Pinia
â”œâ”€â”€ types/              # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ editorjs-marker.d.ts  # Editor.jsæ ‡è®°æ’ä»¶ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts        # å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡ä»¶
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ Console.ts      # æ§åˆ¶å°å·¥å…·ç±»ï¼Œæä¾›å½©è‰²æ—¥å¿—è¾“å‡º
â”‚   â””â”€â”€ Message.ts      # æ¶ˆæ¯æç¤ºå·¥å…·ï¼Œæ˜¾ç¤ºç”¨æˆ·åé¦ˆä¿¡æ¯
â”œâ”€â”€ assets/             # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/            # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ components.css  # ç»„ä»¶æ ·å¼
â”‚   â”‚   â”œâ”€â”€ editor.css      # ç¼–è¾‘å™¨æ ·å¼
â”‚   â”‚   â”œâ”€â”€ fonts.css       # å­—ä½“æ ·å¼å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ global.css      # å…¨å±€æ ·å¼
â”‚   â”‚   â””â”€â”€ style.css       # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”œâ”€â”€ fonts/          # å­—ä½“æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ ä»¿å®‹_GB2312.ttf    # ä»¿å®‹å­—ä½“
â”‚   â”‚   â”œâ”€â”€ æ–¹æ­£å°æ ‡å®‹ç®€ä½“.ttf   # å°æ ‡å®‹å­—ä½“
â”‚   â”‚   â””â”€â”€ æ¥·ä½“_GB2312.ttf    # æ¥·ä½“å­—ä½“
â”‚   â”œâ”€â”€ favicon.ico     # ç½‘ç«™å›¾æ ‡
â”‚   â””â”€â”€ logo.png        # é¡¹ç›®Logo
â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â””â”€â”€ main.js             # åº”ç”¨å…¥å£æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Node.js 16.0+ 
- npm 7.0+ æˆ– yarn 1.22+
- ç°ä»£æµè§ˆå™¨ï¼ˆChrome 88+, Firefox 85+, Safari 14+, Edge 88+ï¼‰

### ğŸ› ï¸ å®‰è£…ä¸è¿è¡Œ

1. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

2. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```
   è®¿é—® `http://localhost:5174` æŸ¥çœ‹åº”ç”¨

3. **æ„å»ºç”Ÿäº§ç‰ˆæœ¬**
   ```bash
   npm run build
   ```

4. **é¢„è§ˆç”Ÿäº§æ„å»º**
   ```bash
   npm run preview
   ```

## ğŸ“š æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨

### ç¼–è¾‘å™¨åˆå§‹åŒ–

```javascript
import { TiptapCore } from './core/TiptapCore'

const editor = new TiptapCore({
  holder: 'editor-container',
  config: {
    placeholder: 'å¼€å§‹ç¼–å†™æ‚¨çš„æ–‡æ¡£...',
    autofocus: true
  }
})

await editor.init()
```

### Word æ–‡æ¡£å¤„ç†

```javascript
import { WordHandler } from './fileHandlers/WordHandler'

const wordHandler = new WordHandler()

// å¯¼å…¥ Word æ–‡æ¡£
const fileInput = document.querySelector('#file-input')
const file = fileInput.files[0]
const html = await wordHandler.importToHtml(file)

// å¯¼å‡ºä¸º Word æ–‡æ¡£
const html = editor.getHTML()
const exportedFile = await wordHandler.exportFromHtml(html)
```

### æ•°æ®æ ¼å¼è½¬æ¢

```javascript
import { TiptapDataAdapter } from './adapters/TiptapDataAdapter'

const adapter = new TiptapDataAdapter()

// å°† Tiptap HTML è½¬æ¢ä¸º Editor.js æ•°æ®æ ¼å¼
const html = editor.getHTML()
const editorData = adapter.htmlToEditorData(html)

// å°† Editor.js æ•°æ®æ ¼å¼è½¬æ¢ä¸º Tiptap HTML
const html = adapter.editorDataToHtml(editorData)
editor.setContent(html)
```

## ğŸ“– API æ–‡æ¡£

### TiptapCore

Tiptap ç¼–è¾‘å™¨æ ¸å¿ƒç±»ï¼Œæä¾›å®Œæ•´çš„ç¼–è¾‘å™¨åŠŸèƒ½ã€‚

#### æ–¹æ³•

- `init()`: åˆå§‹åŒ–ç¼–è¾‘å™¨
- `save()`: ä¿å­˜ç¼–è¾‘å™¨æ•°æ®
- `render(data)`: æ¸²æŸ“ç¼–è¾‘å™¨æ•°æ®
- `destroy()`: é”€æ¯ç¼–è¾‘å™¨å®ä¾‹
- `getHTML()`: è·å–ç¼–è¾‘å™¨ HTML å†…å®¹
- `getText()`: è·å–ç¼–è¾‘å™¨çº¯æ–‡æœ¬å†…å®¹
- `setContent(content)`: è®¾ç½®ç¼–è¾‘å™¨å†…å®¹
- `focus()`: èšç„¦ç¼–è¾‘å™¨
- `isEmpty()`: æ£€æŸ¥ç¼–è¾‘å™¨æ˜¯å¦ä¸ºç©º

### TiptapDataAdapter

Tiptap æ•°æ®é€‚é…å™¨ï¼Œè´Ÿè´£åœ¨ Tiptap HTML æ ¼å¼å’Œ Editor.js æ•°æ®æ ¼å¼ä¹‹é—´è¿›è¡Œè½¬æ¢ã€‚

#### æ–¹æ³•

- `htmlToEditorData(html)`: å°† Tiptap HTML è½¬æ¢ä¸º Editor.js æ•°æ®æ ¼å¼
- `editorDataToHtml(data)`: å°† Editor.js æ•°æ®æ ¼å¼è½¬æ¢ä¸º Tiptap HTML
- `sanitizeHtml(html)`: æ¸…ç†å’ŒéªŒè¯ HTML å†…å®¹

### WordHandler

Word æ–‡æ¡£å¤„ç†å™¨ï¼Œæ”¯æŒå¯¼å…¥å¯¼å‡ºå’Œé¢„è§ˆã€‚

#### æ–¹æ³•

- `importToHtml(file)`: å¯¼å…¥ Word æ–‡æ¡£å¹¶è½¬æ¢ä¸º HTML
- `exportFromHtml(html)`: ä» HTML å¯¼å‡ºä¸º Word æ–‡æ¡£
- `preview(data)`: ç”Ÿæˆé¢„è§ˆ

### PluginManager

æ’ä»¶ç®¡ç†å™¨ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œç®¡ç†æ’ä»¶ã€‚

#### æ–¹æ³•

- `registerPlugin(plugin)`: æ³¨å†Œæ’ä»¶
- `loadPlugin(name, config)`: åŠ è½½æ’ä»¶
- `unloadPlugin(name)`: å¸è½½æ’ä»¶
- `getPlugin(name)`: è·å–æ’ä»¶å®ä¾‹

### ShortcutManager

å¿«æ·é”®ç®¡ç†å™¨ï¼Œç»Ÿä¸€ç®¡ç†åº”ç”¨ä¸­çš„æ‰€æœ‰å¿«æ·é”®ã€‚

#### æ–¹æ³•

- `registerShortcut(key, config)`: æ³¨å†Œå¿«æ·é”®
- `unregisterShortcut(key)`: æ³¨é”€å¿«æ·é”®
- `setShortcutEnabled(key, enabled)`: å¯ç”¨/ç¦ç”¨æŒ‡å®šå¿«æ·é”®
- `setEnabled(enabled)`: å¯ç”¨/ç¦ç”¨æ•´ä¸ªå¿«æ·é”®ç®¡ç†å™¨
- `getAllShortcuts()`: è·å–æ‰€æœ‰å¿«æ·é”®
- `getShortcutsByGroup(groupId)`: æ ¹æ®åˆ†ç»„è·å–å¿«æ·é”®
- `addGroup(id, group)`: æ·»åŠ å¿«æ·é”®åˆ†ç»„
- `exportConfig()`: å¯¼å‡ºå¿«æ·é”®é…ç½®
- `importConfig(config)`: å¯¼å…¥å¿«æ·é”®é…ç½®

### Console

æ§åˆ¶å°å·¥å…·ç±»ï¼Œæä¾›å½©è‰²æ—¥å¿—è¾“å‡ºåŠŸèƒ½ã€‚

#### æ–¹æ³•

- `success(...args)`: è¾“å‡ºæˆåŠŸæ—¥å¿—ï¼ˆç»¿è‰²ï¼‰
- `error(...args)`: è¾“å‡ºé”™è¯¯æ—¥å¿—ï¼ˆçº¢è‰²ï¼‰
- `warn(...args)`: è¾“å‡ºè­¦å‘Šæ—¥å¿—ï¼ˆé»„è‰²ï¼‰
- `info(...args)`: è¾“å‡ºä¿¡æ¯æ—¥å¿—ï¼ˆè“è‰²ï¼‰
- `debug(...args)`: è¾“å‡ºè°ƒè¯•æ—¥å¿—ï¼ˆç°è‰²ï¼‰
- `setLogLevel(level)`: è®¾ç½®æ—¥å¿—çº§åˆ«
- `clear()`: æ¸…ç©ºæ§åˆ¶å°
- `table(data)`: æ‰“å°è¡¨æ ¼
- `group(label)`: å¼€å§‹åˆ†ç»„
- `groupEnd()`: ç»“æŸåˆ†ç»„
- `time(label)`: å¼€å§‹è®¡æ—¶
- `timeEnd(label)`: ç»“æŸè®¡æ—¶

### Message

æ¶ˆæ¯æç¤ºå·¥å…·ï¼Œæ˜¾ç¤ºç”¨æˆ·åé¦ˆä¿¡æ¯ã€‚

#### æ–¹æ³•

- `showMessage(text, type, consoleTag)`: æ˜¾ç¤ºæ¶ˆæ¯æç¤º
  - `text`: æ¶ˆæ¯æ–‡æœ¬
  - `type`: æ¶ˆæ¯ç±»å‹ï¼ˆ'success' | 'error' | 'warn' | 'info'ï¼‰
  - `consoleTag`: æ˜¯å¦åŒæ—¶åœ¨æ§åˆ¶å°è¾“å‡ºï¼ˆé»˜è®¤ trueï¼‰

### ç»„åˆå¼å‡½æ•° (Composables)

#### useShortcuts

å¿«æ·é”®ç®¡ç†çš„ç»„åˆå¼å‡½æ•°ã€‚

```javascript
const {
  isShortcutPanelVisible,
  registerEditorShortcuts,
  registerShortcut,
  unregisterShortcut,
  setShortcutEnabled,
  setShortcutsEnabled,
  showShortcutPanel,
  hideShortcutPanel,
  toggleShortcutPanel,
  getAllShortcuts,
  getShortcutsByGroup,
  exportShortcutConfig,
  importShortcutConfig
} = useShortcuts()
```

#### useAnnotations

æ‰¹æ³¨åŠŸèƒ½çš„ç»„åˆå¼å‡½æ•°ã€‚

```javascript
const {
  annotations,
  addAnnotation,
  removeAnnotation,
  updateAnnotation,
  getAnnotationsByRange
} = useAnnotations()
```

#### useEditorState

ç¼–è¾‘å™¨çŠ¶æ€ç®¡ç†çš„ç»„åˆå¼å‡½æ•°ã€‚

```javascript
const {
  editorData,
  isModified,
  currentBlock,
  saveState,
  restoreState
} = useEditorState()
```

#### useFileHandler

æ–‡ä»¶å¤„ç†åŠŸèƒ½çš„ç»„åˆå¼å‡½æ•°ã€‚

```javascript
const {
  importFile,
  exportFile,
  supportedFormats,
  isProcessing
} = useFileHandler()
```

#### useTheme

ä¸»é¢˜ç®¡ç†çš„ç»„åˆå¼å‡½æ•°ã€‚

```javascript
const {
  currentTheme,
  setTheme,
  toggleTheme,
  availableThemes
} = useTheme()
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®

1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd Docly
```

2. å®‰è£…ä¾èµ–
```bash
npm install
```

3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### é¡¹ç›®æ¶æ„

Docly é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼š

- **æ ¸å¿ƒå±‚ (Core)**: æä¾›ç¼–è¾‘å™¨åŸºç¡€åŠŸèƒ½
- **æ’ä»¶å±‚ (Plugins)**: å¯æ‰©å±•çš„æ’ä»¶ç³»ç»Ÿ
- **å¤„ç†å±‚ (Handlers)**: æ–‡ä»¶å¤„ç†å’Œæ ¼å¼è½¬æ¢
- **å·¥å…·å±‚ (Utils)**: é€šç”¨å·¥å…·å’Œè¾…åŠ©å‡½æ•°
- **ç•Œé¢å±‚ (Components)**: Vue ç»„ä»¶å’Œç”¨æˆ·ç•Œé¢

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ·»åŠ æ–°çš„ç¼–è¾‘å™¨æ’ä»¶**
```javascript
// åœ¨ plugins/ ç›®å½•ä¸‹åˆ›å»ºæ–°æ’ä»¶
export class MyPlugin implements EditorPlugin {
  name = 'my-plugin'
  
  init(editor: EditorInstance): void {
    // æ’ä»¶åˆå§‹åŒ–é€»è¾‘
  }
}
```

2. **æ‰©å±•æ–‡ä»¶å¤„ç†å™¨**
```javascript
// åœ¨ fileHandlers/ ç›®å½•ä¸‹æ‰©å±•å¤„ç†å™¨
export class MyFileHandler implements FileHandler {
  async import(file: File): Promise<EditorData> {
    // æ–‡ä»¶å¯¼å…¥é€»è¾‘
  }
  
  async export(data: EditorData): Promise<File> {
    // æ–‡ä»¶å¯¼å‡ºé€»è¾‘
  }
}
```

3. **åˆ›å»ºæ–°çš„ç»„åˆå¼å‡½æ•°**
```javascript
// åœ¨ composables/ ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ç»„åˆå¼å‡½æ•°
import { ref, computed } from 'vue'

export function useMyFeature() {
  const state = ref(null)
  const isActive = computed(() => state.value !== null)
  
  const activate = () => {
    // æ¿€æ´»åŠŸèƒ½é€»è¾‘
  }
  
  const deactivate = () => {
    // åœç”¨åŠŸèƒ½é€»è¾‘
  }
  
  return {
    state,
    isActive,
    activate,
    deactivate
  }
}
```

4. **æ·»åŠ æ–°çš„UIç»„ä»¶**
```vue
<!-- åœ¨ components/ ç›®å½•ä¸‹åˆ›å»ºæ–°ç»„ä»¶ -->
<template>
  <div class="my-component">
    <!-- ç»„ä»¶æ¨¡æ¿ -->
  </div>
</template>

<script setup lang="ts">
// ç»„ä»¶é€»è¾‘ï¼Œä½¿ç”¨ç»„åˆå¼API
interface Props {
  // å®šä¹‰ç»„ä»¶å±æ€§
}

const props = defineProps<Props>()
const emit = defineEmits<{
  // å®šä¹‰ç»„ä»¶äº‹ä»¶
}>()
</script>

<style scoped>
/* ç»„ä»¶æ ·å¼ */
.my-component {
  /* æ ·å¼å®šä¹‰ */
}
</style>
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹å®‰å…¨å¼€å‘
- éµå¾ª Vue 3 Composition API æœ€ä½³å®è·µ
- ä¸ºæ‰€æœ‰å…¬å…±æ–¹æ³•æ·»åŠ  JSDoc æ³¨é‡Š
- ä½¿ç”¨ ESLint å’Œ Prettier ä¿æŒä»£ç é£æ ¼ä¸€è‡´

### æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test

# è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•
npm run test:e2e

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage
```

### æ„å»ºå’Œéƒ¨ç½²

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview

# åˆ†ææ„å»ºåŒ…å¤§å°
npm run analyze
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### æäº¤è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤é—®é¢˜
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: ä»£ç é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å­—ä½“æ”¯æŒï¼Ÿ

A: åœ¨ <mcfolder name="fonts" path="src/assets/fonts/"></mcfolder> ç›®å½•ä¸‹æ·»åŠ å­—ä½“æ–‡ä»¶ï¼Œç„¶ååœ¨ <mcfile name="fonts.css" path="src/assets/css/fonts.css"></mcfile> ä¸­å®šä¹‰å­—ä½“æ ·å¼ã€‚

### Q: å¦‚ä½•æ‰©å±• Word æ–‡æ¡£çš„å¯¼å…¥æ”¯æŒï¼Ÿ

A: ä¿®æ”¹ <mcfile name="WordHandler.ts" path="src/fileHandlers/WordHandler.ts"></mcfile> ä¸­çš„ `importToHtml` æ–¹æ³•ï¼Œæ·»åŠ å¯¹æ–°å…ƒç´ ç±»å‹çš„å¤„ç†é€»è¾‘ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰ç¼–è¾‘å™¨å·¥å…·æ ï¼Ÿ

A: åœ¨ <mcsymbol name="TiptapCore" filename="TiptapCore.ts" path="src/core/TiptapCore.ts" startline="1" type="class"></mcsymbol> åˆå§‹åŒ–æ—¶é…ç½®æ‰©å±•å‚æ•°ï¼Œå¯ç”¨æˆ–ç¦ç”¨ç‰¹å®šçš„ç¼–è¾‘å™¨å·¥å…·ã€‚

### Q: å¦‚ä½•ä½¿ç”¨ Tiptap ç¼–è¾‘å™¨ç»„ä»¶ï¼Ÿ

A: ä½¿ç”¨ <mcfile name="TiptapEditor.vue" path="src/components/TiptapEditor.vue"></mcfile> ç»„ä»¶ï¼Œå®ƒæä¾›äº†å®Œæ•´çš„ Tiptap ç¼–è¾‘å™¨åŠŸèƒ½å’Œå·¥å…·æ ã€‚

### Q: å¦‚ä½•æ˜¾ç¤ºå¿«æ·é”®é¢æ¿ï¼Ÿ

A: ä½¿ç”¨ <mcfile name="ShortcutPanel.vue" path="src/components/ShortcutPanel.vue"></mcfile> ç»„ä»¶ï¼Œæˆ–é€šè¿‡ `useShortcuts` ç»„åˆå¼å‡½æ•°çš„ `showShortcutPanel` æ–¹æ³•æ˜¾ç¤ºã€‚

### Q: æ”¯æŒå“ªäº›ä¸­æ–‡å­—ä½“ï¼Ÿ

A: é¡¹ç›®å†…ç½®æ”¯æŒæ¥·ä½“ã€ä»¿å®‹ã€æ–¹æ­£å°æ ‡å®‹ç®€ä½“ç­‰ä¸­æ–‡å­—ä½“ï¼Œå­—ä½“æ–‡ä»¶ä½äº <mcfolder name="fonts" path="src/assets/fonts/"></mcfolder> ç›®å½•ã€‚

### Q: å¦‚ä½•ä½¿ç”¨æ‰¹æ³¨ç³»ç»Ÿï¼Ÿ

A: ä½¿ç”¨ <mcsymbol name="useAnnotations" filename="useAnnotations.ts" path="src/composables/useAnnotations.ts" startline="1" type="function"></mcsymbol> ç»„åˆå¼å‡½æ•°æ¥ç®¡ç†æ‰¹æ³¨ï¼Œæˆ–ç›´æ¥ä½¿ç”¨ <mcfile name="AnnotationSystem.vue" path="src/components/AnnotationSystem.vue"></mcfile> ç»„ä»¶ã€‚

### Q: å¦‚ä½•åˆ‡æ¢ä¸»é¢˜ï¼Ÿ

A: ä½¿ç”¨ <mcsymbol name="useTheme" filename="useTheme.ts" path="src/composables/useTheme.ts" startline="1" type="function"></mcsymbol> ç»„åˆå¼å‡½æ•°ä¸­çš„ `setTheme` æˆ– `toggleTheme` æ–¹æ³•æ¥åˆ‡æ¢ä¸»é¢˜ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰é¢œè‰²é€‰æ‹©å™¨ï¼Ÿ

A: ä¿®æ”¹ <mcfile name="ColorPicker.vue" path="src/components/ColorPicker.vue"></mcfile> ç»„ä»¶ï¼Œæ·»åŠ è‡ªå®šä¹‰é¢œè‰²é¢„è®¾æˆ–ä¿®æ”¹é¢œè‰²é€‰æ‹©é€»è¾‘ã€‚

### Q: ç¼–è¾‘å™¨çŠ¶æ€å¦‚ä½•ç®¡ç†ï¼Ÿ

A: é¡¹ç›®ä½¿ç”¨ Pinia è¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆ<mcfile name="editorStore.ts" path="src/stores/editorStore.ts"></mcfile>ï¼‰ï¼ŒåŒæ—¶æä¾› <mcsymbol name="useEditorState" filename="useEditorState.ts" path="src/composables/useEditorState.ts" startline="1" type="function"></mcsymbol> ç»„åˆå¼å‡½æ•°è¿›è¡Œå±€éƒ¨çŠ¶æ€ç®¡ç†ã€‚

### Q: å¦‚ä½•ä½¿ç”¨å¿«æ·é”®ç³»ç»Ÿï¼Ÿ

A: ä½¿ç”¨ <mcsymbol name="useShortcuts" filename="useShortcuts.ts" path="src/composables/useShortcuts.ts" startline="1" type="function"></mcsymbol> ç»„åˆå¼å‡½æ•°æ¥ç®¡ç†å¿«æ·é”®ï¼Œæˆ–ç›´æ¥ä½¿ç”¨ <mcsymbol name="ShortcutManager" filename="ShortcutManager.ts" path="src/core/ShortcutManager.ts" startline="1" type="class"></mcsymbol> ç±»ã€‚æŒ‰ `Ctrl+/` å¯æ˜¾ç¤ºå¿«æ·é”®é¢æ¿ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰æ§åˆ¶å°æ—¥å¿—è¾“å‡ºï¼Ÿ

A: ä½¿ç”¨ <mcsymbol name="Console" filename="Console.ts" path="src/utils/Console.ts" startline="1" type="class"></mcsymbol> ç±»çš„é™æ€æ–¹æ³•ï¼Œå¦‚ `Console.success()`ã€`Console.error()` ç­‰ã€‚å¯é€šè¿‡ `Console.setLogLevel()` è®¾ç½®æ—¥å¿—çº§åˆ«ã€‚

### Q: å¦‚ä½•æ˜¾ç¤ºç”¨æˆ·æ¶ˆæ¯æç¤ºï¼Ÿ

A: ä½¿ç”¨ <mcsymbol name="showMessage" filename="Message.ts" path="src/utils/Message.ts" startline="1" type="function"></mcsymbol> å‡½æ•°æ˜¾ç¤ºæ¶ˆæ¯æç¤ºï¼Œæ”¯æŒæˆåŠŸã€é”™è¯¯ã€è­¦å‘Šå’Œä¿¡æ¯å››ç§ç±»å‹ã€‚

### Q: å¦‚ä½•æ³¨å†Œè‡ªå®šä¹‰å¿«æ·é”®ï¼Ÿ

A: ä½¿ç”¨ `ShortcutManager.registerShortcut(key, config)` æ–¹æ³•æ³¨å†Œå¿«æ·é”®ï¼Œæˆ–é€šè¿‡ `useShortcuts` ç»„åˆå¼å‡½æ•°çš„ `registerShortcut` æ–¹æ³•ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache License 2.0 è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚
